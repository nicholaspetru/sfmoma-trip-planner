Hello, <%= @user.first_name %>

Thanks for choosing to use my SFMOMA guide to help gather artists and artworks of interest!
<% if (@artists.uniq.length == 1 and @artists.include? nil) and (@artworks.uniq.length == 1 and @artworks.include? nil) %>
  You haven't saved any interets.
<% else %>

  <% if (@artists.uniq.length == 1 and @artists.include? nil) or @artists.empty? %>
    You haven't selected any artists of interest yet.
  <% else %>
    Be sure to ask about these artists when you visit the museum:
    <% @artists.each do |artist| %>
      <% unless artist.nil? or artist.to_s.empty? %>
        -> <%= artist.tr('_', ' ') %>
      <% end %>
    <% end %>
  <% end %>

  <% if (@artworks.uniq.length == 1 and @artworks.include? nil) or @artworks.empty? %>
    You haven't selected any artworks of interest yet.
  <% else %>
    And keep an eye out for these pieces during your visit:
    <% @artworks.each do |artwork| %>
      <% unless artwork.nil? or artwork.to_s.empty? %>
        -> <%= Artwork.get_artwork_name(artwork.tr('_', '.')) %>
      <% end %>
    <% end %>
  <% end %>

<% end %>

Feel free to reply to this email with any questions.

Sincereley,
Nick
